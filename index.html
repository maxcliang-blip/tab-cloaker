<!DOCTYPE html>
<html>
<head>
    <title>404 Not Found</title>
    <link id="mainIcon" rel="icon" type="image/png" href="https://ssl.gstatic.com">
    <style>
        /* FAKE 404 STYLING */
        #shadowContainer { font-family: sans-serif; color: #333; text-align: center; padding-top: 100px; background: white; height: 100vh; }
        #error404 { font-size: 50px; cursor: default; user-select: none; }
        .hidden-trigger { cursor: pointer; color: inherit; text-decoration: none; }

        /* REAL UI (Hidden) */
        #mainUI { display: none; background: #111; color: white; min-height: 100vh; flex-direction: column; justify-content: center; align-items: center; }
        .container { background: #222; padding: 30px; border-radius: 10px; text-align: center; border: 1px solid #444; width: 480px; }
        input { display: block; width: 90%; padding: 12px; margin: 8px auto; border-radius: 5px; border: 1px solid #555; background: #000; color: #0f0; font-family: monospace; }
        button { padding: 10px 20px; cursor: pointer; background: #1a73e8; color: white; border: none; border-radius: 5px; font-weight: bold; }
        .launch-btn { width: 100%; padding: 15px; background: #34a853; font-size: 1.1rem; margin-top: 15px; }
        #favList { margin-top: 10px; text-align: left; background: #111; padding: 10px; border: 1px solid #333; max-height: 100px; overflow-y: auto; font-size: 0.8rem; }
    </style>
</head>
<body style="margin:0;">

    <!-- THE SHADOW SCREEN -->
    <div id="shadowContainer">
        <h1 id="error404">Error <span class="hidden-trigger" onclick="showLogin()">4</span>04</h1>
        <p>The requested URL was not found on this server.</p>
        <hr style="width:50%; border:0; border-top:1px solid #eee;">
        <p style="font-size: 0.8rem; color: #999;">Apache/2.4.41 (Ubuntu) Server at github.io Port 443</p>
    </div>

    <!-- THE REAL UI -->
    <div id="mainUI">
        <div class="container">
            <h1>Elite Cloaker v22</h1>
            <input type="password" id="passInput" placeholder="Access Key...">
            <div id="authArea" style="display:none;">
                <input type="text" id="urlInput" value="https://www.google.com">
                <input type="text" id="customPanic" value="https://classroom.google.com">
                <button class="launch-btn" onclick="launch()">Launch Blob Cloak</button>
                <div id="favList"></div>
            </div>
            <button id="unlockBtn" onclick="checkPass()">Unlock</button>
        </div>
    </div>

    <script>
        const MASTER_PASSWORD = "123";

        function showLogin() {
            document.getElementById('shadowContainer').style.display = 'none';
            document.getElementById('mainUI').style.display = 'flex';
            document.title = "Classes";
        }

        function checkPass() {
            if (document.getElementById('passInput').value === MASTER_PASSWORD) {
                document.getElementById('authArea').style.display = 'block';
                document.getElementById('unlockBtn').style.display = 'none';
                document.getElementById('passInput').style.display = 'none';
            }
        }

        function launch() {
            const rawUrl = document.getElementById('urlInput').value;
            const escapeUrl = document.getElementById('customPanic').value;
            const proxyUrl = "https://www.blockaway.net_" + btoa(rawUrl).replace(/\//g, '_').replace(/\+/g, '-').replace(/=/g, '');

            const pageHTML = `
                <html>
                <head>
                    <title>Classes</title>
                    <link rel="icon" type="image/png" href="https://ssl.gstatic.com">
                    <style>body,html{margin:0;padding:0;height:100%;overflow:hidden;background:#000;}iframe{width:100%;height:100%;border:none;}</style>
                </head>
                <body>
                    <iframe src="${proxyUrl}"></iframe>
                    <script>
                        window.onbeforeunload = () => "Safety";
                        window.addEventListener('keydown', (e) => {
                            if (e.code === 'Backslash') { window.onbeforeunload = null; window.location.replace("${escapeUrl}"); }
                        });
                        setInterval(() => { window.focus(); }, 500);
                    <\/script>
                </body>
                </html>
            `;

            const blob = new Blob([pageHTML], { type: 'text/html' });
            const blobUrl = URL.createObjectURL(blob);
            const win = window.open('about:blank', '_blank');
            if (win) win.location.href = blobUrl;
        }
    </script>
</body>
</html>
